\usepackage{xcolor}
\usepackage{forloop}
\usepackage{ifthen}
\usepackage{calc}
\usepackage{xspace}

\newcounter{i}
\newcounter{j}
\newcounter{n1}

%\newcommand{\reed}[1]{\relax}
%\newcommand{\Fix}[1]{\relax}
\newcommand{\reed}[1]{{\color{magenta}\bfseries [#1]}}
\newcommand{\Fix}[1]{{\color{red}\bfseries [#1]}}
\newcommand{\Comment}[1]{}
\newcommand{\Space}[1]{}
\newcommand{\Num}[1]{#1}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\newtheorem{claim}{Claim}
\newtheorem{corollary}{Corollary}

\newcommand{\nat}{\ensuremath{\mathbb{N}}}
\newcommand{\real}{\ensuremath{\mathbb{R}}}
\newcommand{\integers}{\ensuremath{\mathbb{Z}}}
\newcommand{\rational}{\ensuremath{\mathbb{Q}}}
\newcommand{\complex}{\ensuremath{\mathbb{C}}}

\newcommand{\isnat}[1]{\ensuremath{#1 \in \nat}}
\newcommand{\seq}[3]{\ensuremath{{\left( #1_{#2} \right)}_{#2 \in #3}}}
\newcommand{\setint}[3]{\ensuremath{\bigcap_{#2 \in #3} #1_{#2}}}
\newcommand{\natinti}[2]{\ensuremath{\setint{#1}{#2}{\nat}}}
\newcommand{\natint}[1]{\ensuremath{\natinti{#1}{n}}}
\newcommand{\natseqi}[2]{\ensuremath{\seq{#1}{#2}{\nat}}}
\newcommand{\natseq}[1]{\ensuremath{\natseqi{#1}{n}}}

\newcommand{\diam}[1]{\ensuremath{\text{diam} \left( #1 \right)}}

\newcommand{\eventually}{\ensuremath{\forall^{\infty}}}
\newcommand{\infinitelymany}{\ensuremath{\exists^{\infty}}}

\newcommand{\power}[1]{\ensuremath{\mathcal{P} \left( #1 \right)}}
\newcommand{\card}[1]{\ensuremath{\left| #1 \right|}}

\newcommand{\brackets}[3]{\ensuremath{{\left#1 {#3} \right#2}}}
\newcommand{\parens}[1]{\brackets{(}{)}{#1}}
\newcommand{\angles}[1]{\brackets{<}{>}{#1}}
\newcommand{\curlys}[1]{\brackets{\{}{\}}{#1}}
\newcommand{\squares}[1]{\brackets{[}{]}{#1}}
\newcommand{\parensum}[3]{\ensuremath{\parens{\sum_{#1}^{#2} {#3}}}}

\newcommand{\poly}[2]{\ensuremath{{#1}\left[ #2 \right]}}

\newcommand{\tand}{\ensuremath{~\text{and}~}}
\newcommand{\tor}{\ensuremath{~\text{or}~}}
\newcommand{\tsuchthat}{\ensuremath{~\text{s.t.}~}}

\newcommand{\beatree}[1]{\ensuremath{\subseteq {#1}^{\leq \nat}}}

\newcommand{\metricspace}[2]{\ensuremath{\parens{{#1},{#2}}}}

\newcommand{\setbuild}[2]{\ensuremath{\left\{ {#1} : {#2} \right\}}}

\newcommand{\openball}[3]{\ensuremath{B_{#1}\parens{{#2},{#3}}}}

\newcommand{\subgroupgen}[1]{\ensuremath{{\left< {#1} \right>}}}

\newcommand{\idmatrix}[1]{%
    \setcounter{n1}{#1 - 1}
    \begin{pmatrix}
        \forloop{i}{0}{\value{i} < #1}{%
            \forloop{j}{0}{\value{j} < #1}{%
                \ifthenelse{\equal{\value{i}}{\value{j}}}{1}{0}
                \ifthenelse{\value{j} < \value{n1}}{&}{}
            }
            \ifthenelse{\value{i} < \value{n1}}{\\}{}
        }
    \end{pmatrix}
}

\newcommand{\twobytwo}[4]{\ensuremath{\begin{pmatrix} #1 & #2 \\ #3 & #4 \end{pmatrix}}}

\newcommand{\after}{\circ}

\newcommand{\Sym}[1]{\ensuremath{\text{Sym}\parens{#1}}}

\newcommand{\finitecomma}[2]{\ensuremath{#1_0, #1_1, \ldots, #1_{#2 - 1}}}
\newcommand{\finiteset}[2]{\ensuremath{\curlys{\finitecomma{#1}{#2}}}}

\newcommand{\woutlog}{without loss of generality\xspace}
\newcommand{\Woutlog}{Without loss of generality\xspace}

\newcommand{\deffuncparam}[6]{%
    \expandafter\newcommand\csname domain#1\endcsname{\ensuremath{#3}}%
    \expandafter\newcommand\csname codomain#1\endcsname{\ensuremath{#5}}%
    \expandafter\newcommand\csname decl#1\endcsname{\ensuremath{#1_{#2} : #3 #4 #5}}%
    \expandafter\newcommand\csname funcname#1\endcsname[1]{\ensuremath{#1_{##1}}}%
    \expandafter\newcommand\csname body#1\endcsname[2]{\ensuremath{#6}}%
    \expandafter\newcommand\csname call#1\endcsname[2]{\ensuremath{#1_{#2} \parens{##1}}}%
    \expandafter\newcommand\csname map#1\endcsname[2]{\ensuremath{##1 \mapsto \expandafter\csname body#1\endcsname{##1}{##2} }}%
}

\newcommand{\deffunc}[5]{%
    \expandafter\newcommand\csname domain#1\endcsname{\ensuremath{#2}}%
    \expandafter\newcommand\csname codomain#1\endcsname{\ensuremath{#4}}%
    \expandafter\newcommand\csname decl#1\endcsname{\ensuremath{#1 : #2 #3 #4}}%
    \expandafter\newcommand\csname funcname#1\endcsname{\ensuremath{#1}}%
    \expandafter\newcommand\csname body#1\endcsname[1]{#5}%
    \expandafter\newcommand\csname call#1\endcsname[1]{\ensuremath{#1 \parens{##1}}}%
    \expandafter\newcommand\csname map#1\endcsname[1]{\ensuremath{##1 \mapsto \expandafter {\csname body#1 \endcsname} {##1} }}%
}

